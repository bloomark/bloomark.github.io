var edit_window_specs="width=650,height=600,left=175,top=100,resizable=1,scrollbars=1",indx_window_specs="width=600,height=500,left=200,top=150,resizable=1,scrollbars=1",news_window_specs="width=740,height=650,left=200,top=150,resizable=1,scrollbars=1",help_window_specs="width=500,height=400,left=250,top=200,resizable=1,scrollbars=1",find_window_specs="width=550,height=600,left=250,top=150,resizable=1,scrollbars=1",mesg_window_specs="width=500,height=600,left=250,top=100,resizable=1,scrollbars=1",chan_window_specs="width=500,height=600,left=250,top=100,resizable=1,scrollbars=1",mord_window_specs="width=500,height=600,left=250,top=100,resizable=1,scrollbars=1",assist_window_specs="width=900,height=800,left=70,top=70,resizable=1,scrollbars=1",gmap_window_specs="width=650,height=600,left=200,top=150,resizable=1,scrollbars=1",fam_nav_specs="width=300,height=600,left=817,top=150,resizable=1,scrollbars=1",pastefield,nameElement,remElement,textDirection=jQuery("html").attr("dir");function modalDialog(b,f,d){jQuery('<div title="'+f+'"></div>').load(b).dialog({modal:!0,width:"undefined"===typeof d?700:d,open:function(){var c=this;jQuery(".ui-widget-overlay").on("click",function(){jQuery(c).dialog("close")})}});return !1}function helpDialog(b,d){jQuery.getJSON("help_text.php?help="+b+"&mod="+d,function(c){modalNotes(c.content,c.title)})}function modalNotes(b,d){jQuery('<div title="'+d+'"></div>').html(b).dialog({modal:!0,width:500,open:function(){var c=this;jQuery(".ui-widget-overlay").on("click",function(){jQuery(c).dialog("close")})}});return !1}function modalDialogSubmitAjax(b){jQuery.ajax({type:"POST",url:jQuery(b).attr("action"),data:jQuery(b).serialize(),success:function(c){window.location.reload()}});return !1}function closePopupAndReloadParent(b){parent.opener&&(b?parent.opener.location=b:parent.opener.location.reload());window.close()}function expand_layer(b){jQuery("#"+b+"_img").toggleClass("icon-plus icon-minus");jQuery("#"+b).slideToggle("fast");jQuery("#"+b+"-alt").toggle();return !1}function edit_interface(b,f,d){f=f||edit_window_specs;window.pastefield=d;b="edit_interface.php?"+jQuery.param(b)+"&ged="+WT_GEDCOM;window.open(b,"_blank",f);return !1}function edit_record(b,d){return edit_interface({action:"edit",xref:b,fact_id:d})}function add_fact(b,d){return edit_interface({action:"add",xref:b,fact:d})}function edit_raw(b){return edit_interface({action:"editraw",xref:b})}function edit_note(b){return edit_interface({action:"editnote",xref:b})}function add_record(b,f){var d=jQuery("#"+f).val();if(d){if("OBJE"===d){window.open("addmedia.php?action=showmediaform&linkid="+encodeURIComponent(b)+"&ged="+encodeURIComponent(WT_GEDCOM),"_blank",edit_window_specs)}else{return add_fact(b,d)}}return !1}function reorder_media(b){return edit_interface({action:"reorder_media",xref:b},mord_window_specs)}function add_new_record(b,d){return edit_interface({action:"add",xref:b,fact:d})}function add_child_to_family(b,d){return edit_interface({action:"add_child_to_family",gender:d,xref:b})}function add_child_to_individual(b,d){return edit_interface({action:"add_child_to_individual",gender:d,xref:b})}function add_parent_to_individual(b,d){return edit_interface({action:"add_parent_to_individual",xref:b,gender:d})}function add_spouse_to_family(b,d){return edit_interface({action:"add_spouse_to_family",xref:b,famtag:d})}function add_unlinked_indi(){return edit_interface({action:"add_unlinked_indi"})}function add_spouse_to_individual(b,d){return edit_interface({action:"add_spouse_to_individual",xref:b,famtag:d})}function linkspouse(b,d){return edit_interface({action:"linkspouse",xref:b,famtag:d,famid:"new"})}function add_famc(b){return edit_interface({action:"addfamlink",xref:b})}function edit_name(b,d){return edit_interface({action:"editname",xref:b,fact_id:d})}function add_name(b){return edit_interface({action:"addname",xref:b})}function accept_changes(b){jQuery.post("action.php",{action:"accept-changes",xref:b,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function reject_changes(b){jQuery.post("action.php",{action:"reject-changes",xref:b,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_family(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"delete-family",xref:f,ged:"undefined"===typeof d?WT_GEDCOM:d,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_individual(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"delete-individual",xref:f,ged:"undefined"===typeof d?WT_GEDCOM:d,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_media(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"delete-media",xref:f,ged:"undefined"===typeof d?WT_GEDCOM:d,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_note(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"delete-note",xref:f,ged:"undefined"===typeof d?WT_GEDCOM:d,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_repository(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"delete-repository",xref:f,ged:"undefined"===typeof d?WT_GEDCOM:d,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_source(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"delete-source",xref:f,ged:"undefined"===typeof d?WT_GEDCOM:d,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_fact(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"delete-fact",xref:f,fact_id:d,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function unlink_media(b,f,d){confirm(b)&&jQuery.post("action.php",{action:"unlink-media",source:f,target:d,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function copy_fact(b,d){jQuery.post("action.php",{action:"copy-fact",xref:b,fact_id:d,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function paste_fact(b,d){jQuery.post("action.php",{action:"paste-fact",xref:b,fact_id:jQuery(d).val(),ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_user(b,d){confirm(b)&&jQuery.post("action.php",{action:"delete-user",user_id:d,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function masquerade(b){jQuery.post("action.php",{action:"masquerade",user_id:b,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function reorder_children(b){return edit_interface({action:"reorder_children",xref:b})}function reorder_families(b){return edit_interface({action:"reorder_fams",xref:b})}function reply(b,d){window.open("message.php?to="+encodeURIComponent(b)+"&subject="+encodeURIComponent(d)+"&ged="+encodeURIComponent(WT_GEDCOM),"_blank",mesg_window_specs);return !1}function delete_message(b){window.open("message.php?action=delete&id="+encodeURIComponent(b)+"&ged="+encodeURIComponent(WT_GEDCOM),"_blank",mesg_window_specs);return !1}function change_family_members(b){return edit_interface({action:"changefamily",xref:b})}function addnewsource(b){return edit_interface({action:"addnewsource",xref:"newsour"},null,b)}function addnewrepository(b){return edit_interface({action:"addnewrepository",xref:"newrepo"},null,b)}function addnewnote(b){return edit_interface({action:"addnewnote",noteid:"newnote"},null,b)}function addnewnote_assisted(b,d){return edit_interface({action:"addnewnote_assisted",noteid:"newnote",xref:d},assist_window_specs,b)}function addmedia_links(b,f,d){pastefield=b;insertRowToTable(f,d);return !1}function valid_date(a){var c="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),e="MUHAR SAFAR RABIA RABIT JUMAA JUMAT RAJAB SHAAB RAMAD SHAWW DHUAQ DHUAH".split(" "),b="TSH CSH KSL TVT SHV ADR ADS NSN IYR SVN TMZ AAV ELL".split(" "),f="VEND BRUM FRIM NIVO PLUV VENT GERM FLOR PRAI MESS THER FRUC COMP".split(" "),g="FARVA ORDIB KHORD TIR MORDA SHAHR MEHR ABAN AZAR DEY BAHMA ESFAN".split(" "),d=a.value,h=d.split("("),k="";1<h.length&&(d=h[0],k=h[1]);d=d.toUpperCase();d=d.replace(/\s+/," ");d=d.replace(/(^\s)|(\s$)/,"");d=d.replace(/(\d)([A-Z])/,"$1 $2");d=d.replace(/([A-Z])(\d)/,"$1 $2");d.match(/^Q ([1-4]) (\d\d\d\d)$/)&&(d="BET "+c[3*RegExp.$1-3]+" "+RegExp.$2+" AND "+c[3*RegExp.$1-1]+" "+RegExp.$2);d.match(/^(@#DHIJRI@|HIJRI)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(d="@#DHIJRI@"+RegExp.$2+e[parseInt(RegExp.$3,10)-1]+RegExp.$4);d.match(/^(@#DJALALI@|JALALI)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(d="@#DJALALI@"+RegExp.$2+g[parseInt(RegExp.$3,10)-1]+RegExp.$4);d.match(/^(@#DHEBREW@|HEBREW)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(d="@#DHEBREW@"+RegExp.$2+b[parseInt(RegExp.$3,10)-1]+RegExp.$4);d.match(/^(@#DFRENCH R@|FRENCH)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(d="@#DFRENCH R@"+RegExp.$2+f[parseInt(RegExp.$3,10)-1]+RegExp.$4);if(/^([^\d]*)(\d+)[^\d](\d+)[^\d](\d+)$/i.exec(d)){e=RegExp.$1;b=parseInt(RegExp.$2,10);f=parseInt(RegExp.$3,10);g=parseInt(RegExp.$4,10);h="DMY";"undefined"===typeof locale_date_format||"MDY"!==locale_date_format&&"YMD"!==locale_date_format||(h=locale_date_format);var l=(new Date).getFullYear(),m=l%100,l=l-m;if("DMY"===h&&31>=b&&12>=f||13<b&&31>=b&&12>=f&&31<g){d=e+b+" "+c[f-1]+" "+(100<=g?g:g<=m?g+l:g+l-100)}else{if("MDY"===h&&12>=b&&31>=f||13<f&&31>=f&&12>=b&&31<g){d=e+f+" "+c[b-1]+" "+(100<=g?g:g<=m?g+l:g+l-100)}else{if("YMD"===h&&12>=f&&31>=g||13<g&&31>=g&&12>=f&&31<b){d=e+g+" "+c[f-1]+" "+(100<=b?b:b<=m?b+l:b+l-100)}}}}d=d.replace(/^[>]([\w ]+)$/,"AFT $1");d=d.replace(/^[<]([\w ]+)$/,"BEF $1");d=d.replace(/^([\w ]+)[-]$/,"FROM $1");d=d.replace(/^[-]([\w ]+)$/,"TO $1");d=d.replace(/^[~]([\w ]+)$/,"ABT $1");d=d.replace(/^[*]([\w ]+)$/,"EST $1");d=d.replace(/^[#]([\w ]+)$/,"CAL $1");d=d.replace(/^([\w ]+) ?- ?([\w ]+)$/,"BET $1 AND $2");d=d.replace(/^([\w ]+) ?~ ?([\w ]+)$/,"FROM $1 TO $2");d.match(/^=([\d ()\/+*-]+)$/)&&(d=eval(RegExp.$1));d=d.replace(/(JANUARY)/,"JAN");d=d.replace(/(FEBRUARY)/,"FEB");d=d.replace(/(MARCH)/,"MAR");d=d.replace(/(APRIL)/,"APR");d=d.replace(/(MAY)/,"MAY");d=d.replace(/(JUNE)/,"JUN");d=d.replace(/(JULY)/,"JUL");d=d.replace(/(AUGUST)/,"AUG");d=d.replace(/(SEPTEMBER)/,"SEP");d=d.replace(/(OCTOBER)/,"OCT");d=d.replace(/(NOVEMBER)/,"NOV");d=d.replace(/(DECEMBER)/,"DEC");d=d.replace(/(JAN) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(FEB) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(MAR) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(APR) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(MAY) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(JUN) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(JUL) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(AUG) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(SEP) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(OCT) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(NOV) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(DEC) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");d=d.replace(/(^| )(\d [A-Z]{3,5} \d{4})/,"$10$2");k&&(d=d+" ("+k);a.value!==d&&(a.value=d)}var menutimeouts=[];function show_submenu(t,r,p){var s=document.body.scrollWidth+document.documentElement.scrollLeft,o=document.getElementById(t);if(o&&o.style){for(var s=document.all?document.body.offsetWidth:document.body.scrollWidth+document.documentElement.scrollLeft-55,n=0,q=o.childNodes.length,m=0;m<q;m++){var l=o.childNodes[m];l.offsetWidth>n+5&&(n=l.offsetWidth)}o.offsetWidth<n&&(o.style.width=n+"px");if("down"===p){if(r=document.getElementById(r)){o.style.left=r.style.left,p=o.offsetLeft+o.offsetWidth+10,p>s&&(o.style.left=s-o.offsetWidth+"px")}}else{"right"===p&&(r=document.getElementById(r))&&("rtl"===textDirection?o.style.left=r.offsetLeft-o.offsetWidth+"px":(n=r.offsetLeft+r.offsetWidth-40,p=n+o.offsetWidth+10,p>s?o.style.right=r.offsetLeft+"px":o.style.left=n+"px"),o.style.top=r.offsetTop+"px")}0>o.offsetLeft&&(o.style.left="0px");500<o.offsetHeight&&(o.style.height="400px",o.style.overflow="auto");o.style.visibility="visible"}clearTimeout(menutimeouts[t]);menutimeouts[t]=null}function hide_submenu(b){if("number"===typeof menutimeouts[b]){var d=document.getElementById(b);d&&d.style&&(d.style.visibility="hidden");clearTimeout(menutimeouts[b]);menutimeouts[b]=null}}function timeout_submenu(b){"number"!==typeof menutimeouts[b]&&(menutimeouts[b]=setTimeout("hide_submenu('"+b+"')",100))}function statusDisable(b){b=document.getElementById(b);b.checked=!1;b.disabled=!0}function statusEnable(b){document.getElementById(b).disabled=!1}function statusChecked(b){document.getElementById(b).checked=!0}var monthLabels=[,"January","February","March","April","May","June","July","August","September","October","November","December"],monthShort=[,"JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],daysOfWeek="SMTWTFS".split(""),weekStart=0;function cal_setMonthNames(z,x,v,y,u,t,w,s,r,q,p,o){monthLabels[1]=z;monthLabels[2]=x;monthLabels[3]=v;monthLabels[4]=y;monthLabels[5]=u;monthLabels[6]=t;monthLabels[7]=w;monthLabels[8]=s;monthLabels[9]=r;monthLabels[10]=q;monthLabels[11]=p;monthLabels[12]=o}function cal_setDayHeaders(k,p,n,h,m,l,o){daysOfWeek[0]=k;daysOfWeek[1]=p;daysOfWeek[2]=n;daysOfWeek[3]=h;daysOfWeek[4]=m;daysOfWeek[5]=l;daysOfWeek[6]=o}function cal_setWeekStart(b){0<=b&&7>b&&(weekStart=b)}function cal_toggleDate(f,h){var g=document.getElementById(f);if(!g){return !1}if("visible"===g.style.visibility){return g.style.visibility="hidden",!1}if("show"===g.style.visibility){return g.style.visibility="hide",!1}var d=document.getElementById(h);if(!d){return !1}d=/((\d+ (JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC) )?\d+)/.exec(d.value)?new Date(RegExp.$1):new Date;g.innerHTML=cal_generateSelectorContent(h,f,d);if("hidden"===g.style.visibility){return g.style.visibility="visible",!1}"hide"===g.style.visibility&&(g.style.visibility="show");return !1}function cal_generateSelectorContent(h,n,m){var d;d='<table border="1"><tr>'+('<td><select name="'+h+'_daySelect" id="'+h+'_daySelect" onchange="return cal_updateCalendar(\''+h+"', '"+n+"');\">");for(i=1;32>i;i++){d+='<option value="'+i+'"',m.getDate()===i&&(d+=' selected="selected"'),d+=">"+i+"</option>"}d=d+"</select></td>"+('<td><select name="'+h+'_monSelect" id="'+h+'_monSelect" onchange="return cal_updateCalendar(\''+h+"', '"+n+"');\">");for(i=1;13>i;i++){d+='<option value="'+i+'"',m.getMonth()+1===i&&(d+=' selected="selected"'),d+=">"+monthLabels[i]+"</option>"}d+="</select></td>";d+='<td><input type="text" name="'+h+'_yearInput" id="'+h+'_yearInput" size="5" value="'+m.getFullYear()+'" onchange="return cal_updateCalendar(\''+h+"', '"+n+"');\" /></td></tr>";d+='<tr><td colspan="3">';d+='<table width="100%">';d+="<tr>";j=weekStart;for(i=0;7>i;i++){d+="<td ",d+='class="descriptionbox"',d+=">",d+=daysOfWeek[j],d+="</td>",j++,6<j&&(j=0)}d+="</tr>";var l=new Date(m.getFullYear(),m.getMonth(),1),k=l.getDay(),k=k-weekStart,l=l.getTime()-86400000*k+43200000,l=new Date(l);for(j=0;6>j;j++){d+="<tr>";for(i=0;7>i;i++){d+="<td ",d=l.getMonth()===m.getMonth()?l.getDate()===m.getDate()?d+'class="descriptionbox"':d+'class="optionbox"':d+'style="background-color:#EAEAEA; border: solid #AAAAAA 1px;"',d+='><a href="#" onclick="return cal_dateClicked(\''+h+"', '"+n+"', "+l.getFullYear()+", "+l.getMonth()+", "+l.getDate()+');">',d+=l.getDate(),d+="</a></td>",l=l.getTime()+86400000,l=new Date(l)}d+="</tr>"}d+="</table>";d+="</td></tr>";return d+="</table>"}function cal_setDateField(f,h,g,d){f=document.getElementById(f);if(!f){return !1}10>d&&(d="0"+d);f.value=d+" "+monthShort[g+1]+" "+h;return !1}function cal_updateCalendar(g,l){var k=document.getElementById(g+"_daySelect");if(!k){return !1}var d=document.getElementById(g+"_monSelect");if(!d){return !1}var h=document.getElementById(g+"_yearInput");if(!h){return !1}d=parseInt(d.options[d.selectedIndex].value,10);k=new Date(h.value,d-1,k.options[k.selectedIndex].value);cal_setDateField(g,k.getFullYear(),k.getMonth(),k.getDate());h=document.getElementById(l);if(!h){return alert("no dateDiv "+l),!1}h.innerHTML=cal_generateSelectorContent(g,l,k);return !1}function cal_dateClicked(g,l,k,d,h){cal_setDateField(g,k,d,h);cal_toggleDate(l,g);return !1}function findWindow(f,h,g,d){d=d||{};d.type=h;d.ged="undefined"===typeof f?WT_GEDCOM:f;window.pastefield=g;window.open("find.php?"+jQuery.param(d),"_blank",find_window_specs);return !1}function findIndi(b,f,d){window.nameElement=f;return findWindow(d,"indi",b)}function findPlace(b,d){return findWindow(d,"place",b)}function findFamily(b,d){return findWindow(d,"fam",b)}function findMedia(b,f,d){return findWindow(d,"media",b,{choose:f||"0all"})}function findSource(b,f,d){window.nameElement=f;return findWindow(d,"source",b)}function findnote(b,f,d){window.nameElement=f;return findWindow(d,"note",b)}function findRepository(b,d){return findWindow(d,"repo",b)}function findSpecialChar(b){return findWindow(void 0,"specialchar",b)}function findFact(b,d){return findWindow(d,"facts",b,{tags:b.value})}function openerpasteid(b){window.opener.paste_id&&window.opener.paste_id(b);window.close()}function paste_id(b){pastefield.value=b}function pastename(b){nameElement&&(nameElement.innerHTML=b);remElement&&(remElement.style.display="block")}function paste_char(b){document.selection?(pastefield.focus(),sel=document.selection.createRange(),sel.text=b):pastefield.selectionStart||0===pastefield.selectionStart?(pastefield.value=pastefield.value.substring(0,pastefield.selectionStart)+b+pastefield.value.substring(pastefield.selectionEnd,pastefield.value.length),pastefield.selectionStart=pastefield.selectionEnd=pastefield.selectionStart+b.length):pastefield.value+=b;"NPFX"!==pastefield.id&&"GIVN"!==pastefield.id&&"SPFX"!==pastefield.id&&"SURN"!==pastefield.id&&"NSFX"!==pastefield.id||updatewholename()}function ilinkitem(b,f,d){d="undefined"===typeof d?WT_GEDCOM:d;window.open("inverselink.php?mediaid="+encodeURIComponent(b)+"&linkto="+encodeURIComponent(f)+"&ged="+encodeURIComponent(d),"_blank",find_window_specs);return !1}function message(b,f,d){window.open("message.php?to="+encodeURIComponent(b)+"&method="+encodeURIComponent(f)+"&url="+encodeURIComponent(d),"_blank",mesg_window_specs);return !1}function valid_lati_long(f,h,g){var d=f.value.toUpperCase(),d=d.replace(/(^\s*)|(\s*$)/g,""),d=d.replace(/ /g,":"),d=d.replace(/\+/g,""),d=d.replace(/-/g,g),d=d.replace(/,/g,"."),d=d.replace(/\uB0/g,":"),d=d.replace(/\u27/g,":"),d=d.replace(/^([0-9]+):([0-9]+):([0-9.]+)(.*)/g,function(m,l,p,o,n){m=parseFloat(l);m=m+p/60+o/3600;m=Math.round(10000*m)/10000;return n+m}),d=d.replace(/^([0-9]+):([0-9]+)(.*)/g,function(l,k,n,m){l=parseFloat(k);l=Math.round(10000*(l+n/60))/10000;return m+l});(d=d.replace(/(.*)([N|S|E|W]+)$/g,"$2$1"))&&d.charAt(0)!=g&&d.charAt(0)!==h&&(d=h+d);f.value=d}function activate_colorbox(b){jQuery.extend(jQuery.colorbox.settings,{fixed:!0,current:"",previous:"rtl"===textDirection?"\u25b6":"\u25c0",next:"rtl"===textDirection?"\u25c0":"\u25b6",slideshowStart:"\u25cb",slideshowStop:"\u25cf",close:"\u2715"});b&&jQuery.extend(jQuery.colorbox.settings,b);jQuery("body").on("click","a.gallery",function(c){jQuery("a[type^=image].gallery").colorbox({photo:!0,maxWidth:"95%",maxHeight:"95%",rel:"gallery",slideshow:!0,slideshowAuto:!1,onComplete:function(){jQuery(".cboxPhoto").wheelzoom();jQuery(".cboxPhoto img").on("click",function(d){d.preventDefault()})}})})}function autocomplete(b){"undefined"===typeof b&&(b="input[data-autocomplete-type]");jQuery(b).each(function(){var d=$(this).data("autocomplete-type"),f=$(this).data("autocomplete-ged");"undefined"===typeof d&&alert("Missing data-autocomplete-type attribute");"undefined"===typeof f&&jQuery(this).data("autocomplete-ged",WT_GEDCOM);var c=jQuery(this);c.autocomplete({source:function(e,h){var g=null;c.data("autocomplete-extra")&&(g=$("#"+c.data("autocomplete-extra")).val());jQuery.getJSON("autocomplete.php",{field:c.data("autocomplete-type"),ged:c.data("autocomplete-ged"),extra:g,term:e.term},h)},html:!0})})}jQuery.extend($.ui.accordion.prototype.options,{icons:{header:"rtl"===textDirection?"ui-icon-triangle-1-w":"ui-icon-triangle-1-e",activeHeader:"ui-icon-triangle-1-s"}});jQuery.widget("ui.dialog",jQuery.ui.dialog,{_allowInteraction:function(b){if(this._super(b)||b.target.ownerDocument!==this.document[0]||jQuery(b.target).closest(".cke_dialog").length||jQuery(b.target).closest(".cke").length){return !0}},_moveToTop:function(b,d){b&&this.options.modal||this._super(b,d)}});jQuery("body").on("click",".iconz",function(t){function r(){o.parent().css("z-index",100);s();m.addClass("nameZoom");q.hide(0,function(){n.slideDown()})}function p(){n.slideUp(function(){q.show(0);m.removeClass("nameZoom");s();o.parent().css("z-index","")})}function s(){o.toggleClass(function(){return l+" "+l+"-expanded"})}t.stopPropagation();var o=jQuery(this).closest(".person_box_template"),n=o.find(".inout"),q=o.find(".inout2"),m=o.find(".namedef"),l=o.attr("class").match(/(box-style[0-2])/)[1];n.text().length?o.hasClass(l)?r():p():(o.css("cursor","progress"),n.load("expand_view.php?pid="+o.data("pid"),function(){o.css("cursor","");r()}));o.find(".iconz").toggleClass("icon-zoomin icon-zoomout")});