(function(c){function b(e){e.width=e.width;e.height=e.height;e.style.backgroundImage="url("+e.src+")";e.style.backgroundRepeat="no-repeat";e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="}var a={zoom:0.1},d;void 0!==document.onmousewheel?d="onmousewheel":void 0!==document.onwheel&&(d="onwheel");c.fn.wheelzoom=function(e){var f=c.extend({},a,e);return this[0]&&d&&"backgroundSize" in this[0].style?this.each(function(){function h(){function m(){t=o;j=n;s=q=0;p()}function p(){0<s?s=0:s<o-t&&(s=o-t);0<q?q=0:q<n-j&&(q=n-j);i.style.backgroundSize=t+"px "+j+"px";i.style.backgroundPosition=s+"px "+q+"px"}var o=g.width(),n=g.height(),t=o,j=n,s=0,q=0;b(i);g.css({backgroundSize:o+"px "+n+"px",backgroundPosition:"0 0"}).bind("wheelzoom.reset",m);i[d]=function(k){var v=0;k.preventDefault();k.deltaY?v=k.deltaY:k.wheelDelta&&(v=-k.wheelDelta);var u=g.offset(),l=k.pageX-u.left;k=k.pageY-u.top;var u=(l-s)/t,r=(k-q)/j;0>v?(t+=t*f.zoom,j+=j*f.zoom):(t-=t*f.zoom,j-=j*f.zoom);s=l-t*u;q=k-j*r;t<=o||j<=n?m():p()};i.onmousedown=function(l){function r(u){u.preventDefault();s+=u.pageX-k.pageX;q+=u.pageY-k.pageY;k=u;p()}var k=l;l.preventDefault();c(document).on("mousemove",r).one("mouseup",function(){c(document).unbind("mousemove",r)})}}var i=this,g=c(i);if(i.complete){h()}else{g.one("load",h)}}):this};c.fn.wheelzoom.defaults=a})(window.jQuery);